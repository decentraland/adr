<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="638" height="311" xmlns="http://www.w3.org/2000/svg" x-original-source="Title: Social service
participant Social client
participant Social client 2
participant Social service
participant Matrix

Social client -> Social service: Add friend (new friend request)
Social service -> Social client 2 : New request from user 1
Social client 2 -> Social service: Accept friendship
Social service -> Social client: User 2 accepted friendship
Social service -> Matrix: create room">
<rect width="100%" height="100%" fill="white"/><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><rect x="10" y="10" width="130" height="31" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="20" y="31" text-anchor="start" style="font: 14px Menlo, Monaco, &quot;Courier New&quot;, monospace;"><tspan x="20" y="31">Social client</tspan></text><rect x="10" y="229" width="130" height="31" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="20" y="250" text-anchor="start" style="font: 14px Menlo, Monaco, &quot;Courier New&quot;, monospace;"><tspan x="20" y="250">Social client</tspan></text><line x1="75" x2="75" y1="41" y2="229" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><rect x="160" y="10" width="147" height="31" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="170" y="31" text-anchor="start" style="font: 14px Menlo, Monaco, &quot;Courier New&quot;, monospace;"><tspan x="170" y="31">Social client 2</tspan></text><rect x="160" y="229" width="147" height="31" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="170" y="250" text-anchor="start" style="font: 14px Menlo, Monaco, &quot;Courier New&quot;, monospace;"><tspan x="170" y="250">Social client 2</tspan></text><line x1="233" x2="233" y1="41" y2="229" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><rect x="378" y="10" width="139" height="31" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="388" y="31" text-anchor="start" style="font: 14px Menlo, Monaco, &quot;Courier New&quot;, monospace;"><tspan x="388" y="31">Social service</tspan></text><rect x="378" y="229" width="139" height="31" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="388" y="250" text-anchor="start" style="font: 14px Menlo, Monaco, &quot;Courier New&quot;, monospace;"><tspan x="388" y="250">Social service</tspan></text><line x1="447" x2="447" y1="41" y2="229" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><rect x="537" y="10" width="71" height="31" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="547" y="31" text-anchor="start" style="font: 14px Menlo, Monaco, &quot;Courier New&quot;, monospace;"><tspan x="547" y="31">Matrix</tspan></text><rect x="537" y="229" width="71" height="31" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="547" y="250" text-anchor="start" style="font: 14px Menlo, Monaco, &quot;Courier New&quot;, monospace;"><tspan x="547" y="250">Matrix</tspan></text><line x1="572" x2="572" y1="41" y2="229" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><text x="130" y="76" text-anchor="start" style="font: 14px Menlo, Monaco, &quot;Courier New&quot;, monospace;"><tspan x="130" y="76">Add friend (new friend request)</tspan></text><line x1="75" x2="447" y1="81" y2="81" stroke="#000000" fill="none" marker-end="url(#markerArrowBlock)" style="stroke-width: 2px;"></line><text x="243" y="110" text-anchor="start" style="font: 14px Menlo, Monaco, &quot;Courier New&quot;, monospace;"><tspan x="243" y="110">New request from user 1</tspan></text><line x1="447" x2="233" y1="115" y2="115" stroke="#000000" fill="none" marker-end="url(#markerArrowBlock)" style="stroke-width: 2px;"></line><text x="268" y="144" text-anchor="start" style="font: 14px Menlo, Monaco, &quot;Courier New&quot;, monospace;"><tspan x="268" y="144">Accept friendship</tspan></text><line x1="233" x2="447" y1="149" y2="149" stroke="#000000" fill="none" marker-end="url(#markerArrowBlock)" style="stroke-width: 2px;"></line><text x="151" y="178" text-anchor="start" style="font: 14px Menlo, Monaco, &quot;Courier New&quot;, monospace;"><tspan x="151" y="178">User 2 accepted friendship</tspan></text><line x1="447" x2="75" y1="183" y2="183" stroke="#000000" fill="none" marker-end="url(#markerArrowBlock)" style="stroke-width: 2px;"></line><text x="463" y="209" text-anchor="start" style="font: 14px Menlo, Monaco, &quot;Courier New&quot;, monospace;"><tspan x="463" y="209">create room</tspan></text><line x1="447" x2="572" y1="214" y2="214" stroke="#000000" fill="none" marker-end="url(#markerArrowBlock)" style="stroke-width: 2px;"></line></svg>